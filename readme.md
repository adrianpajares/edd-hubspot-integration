I'm not sure if this works. Please feel free to fork it and improve it. 